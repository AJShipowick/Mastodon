"use strict";var newPromoApp=new Vue({el:"#newPromoApp",data:{PromoModel:[],PromoImages:[],currentImageID:"",imageType:""},mounted:function(){this.getPromoData()},methods:{getPromoData:function(){axios.get("/Promotion/CreatePromo/GetPromoData").then(function(n){newPromoApp.PromoModel=n.data;newPromoApp.PromoModel.id?($("#deletePromoBtn").show(),$("#osoContactForm").css({"background-color":newPromoApp.PromoModel.backgroundColor}),$("#osoButton").css({"background-color":newPromoApp.PromoModel.buttonColor}),newPromoApp.PromoModel.showCouponBorder&&$("#osoContactForm").css({border:"4px dashed #ccc"}),newPromoApp.imageType=newPromoApp.PromoModel.imageType,$("#osoImage").attr("src",newPromoApp.getImagePath(newPromoApp.PromoModel.imageName))):(newPromoApp.imageType="coupon",newPromoApp.PromoModel.imageType="coupon",newPromoApp.PromoModel.imageName="osoeasypromo_coupon (16).svg",newPromoApp.PromoModel.backgroundColor="#ffffff",newPromoApp.PromoModel.buttonColor="#4CAF50",$("#osoImage").attr("src",newPromoApp.getImagePath(newPromoApp.PromoModel.imageName)));showCustomPromoImage();closePromotion()}).catch(function(){})},saveCustomPromo:function(){this.validForm()&&this.savePromo()},savePromo:function(){axios.post("/Promotion/CreatePromo/SaveNewPromo",newPromoApp.PromoModel).then(function(){window.location.href="/Dashboard"}).catch(function(){})},getPromoImages:function(n){newPromoApp.PromoImages=[];$("#ajaxLoading").show();axios.get("/Promotion/CreatePromo/GetPromoImages?imageType="+n).then(function(t){newPromoApp.imageType=n;newPromoApp.PromoImages=t.data;$("#ajaxLoading").hide()}).catch(function(){})},getImagePath:function(n){return window.location.origin+"/images/Promo/"+newPromoApp.imageType+"/"+n},setPromoImage:function(n,t){newPromoApp.currentImageID===""?newPromoApp.currentImageID=t:($("#"+newPromoApp.currentImageID).removeClass("promo-border"),newPromoApp.currentImageID=t);$("#"+t).addClass("promo-border");newPromoApp.PromoModel.imageName=n;newPromoApp.PromoModel.imageType=newPromoApp.imageType;$("#osoImage").attr("src",newPromoApp.getImagePath(n))},showCouponBorder:function(){newPromoApp.PromoModel.showCouponBorder?$("#osoContactForm").css({border:"4px dashed #ccc"}):$("#osoContactForm").css({border:"1px solid #d8d8d8"})},setFormBackgroundColor:function(){let n=$("#backgroundColor").val();$("#osoContactForm").css({"background-color":n})},setFormButtonColor:function(){let n=$("#buttonColor").val();$("#osoButton").css({"background-color":n})},submitSlider:function(){$("#submitSliderClick").modal("show")},validForm:function(){newPromoApp.hideErrors();let n=!0;return newPromoApp.PromoModel.title||($("#titleMissing").show(),n=!1),newPromoApp.PromoModel.endDate||($("#dateMissing").show(),n=!1),newPromoApp.PromoModel.code||($("#codeMissing").show(),n=!1),newPromoApp.PromoModel.discount||($("#discountMissing").show(),n=!1),newPromoApp.PromoModel.thankYouMessage||($("#thankYouMissing").show(),n=!1),n},hideErrors:function(){$("#titleMissing").hide();$("#dateMissing").hide();$("#codeMissing").hide();$("#discountMissing").hide();$("#thankYouMissing").hide()},deletePromo:function(){$("#deletePromoModal").modal("show")},showHelpStep1:function(){$("#promoHelpModalStep1").modal("show")},showHelpStep2:function(){$("#promoHelpModalStep2").modal("show");$("#promoHelpModalStep1").modal("hide")},closeHelpStep2:function(){$("#promoHelpModalStep2").modal("hide")},showFormSubmitHelp:function(){$("#formSubmitHelpModal").modal("show")}}});